# Layered-Architecture
계층형 아키텍처(Layered Architecture, 레이어드 아키텍처)

## 계층형 아키텍처란 ##
- 전통적인 아키텍처
- 영속성 계층을 토대로 만들지기 때문에 데이터베이스에 의존적이다. 그러므로 데이터베이스 중심으로 설계가 진행된다.
- 3계층 혹은 4계층으로 나누어진다.

````
웹 > 도메인 > 영속성
````

### 웹( presentation layer ) ###
- 유저 인터페이스나 브라우저 커뮤니케이션 로직을 다룬다.
- 메인 혹은 비즈니스 계층에 있는 서비스로 요청을 보내는 역할

### 도메인 ###
- 주요 로직을 수행하고 도메인 엔티티의 현재 상태를 조회 및 변경하기 위해 영속성 계층과 통신

### 영속성 ( Persistence ) ###
- 영속성은 엔티티를 영구 저장하는 환경을 의미한다.

## 계층형 아키텍처 단점 ##
1. 도메인 로직을 웹 계층에서 구현하는 일이 빈번해질 경우, 애플리케이션 전반적으로 핵심 도메인 로직이 분산된다는 단점이 생긴다.
    - 도메인 로직을 작성한 코드가 어느곳에 있는지 찾기 어렵다.
2. 웹 계층 테스트를 할 때, 도메인 계층 뿐만 아니라 영속성 계층도 모킹하기때문에 단위 테스트 복잡도가 올라가게 된다.


## 계층형 아키텍처 단점 해결방법 ##
- 계층형 아키텍처의 단점을 해소하기 위해 의존성을 역전하는 방법을 알아보자.

### 1. 의존성 역전하기 ###

#### 1-1. 단일책임원칙 ####
- Single Responsibility Principal
- 컴포넌트를 변경하는 이유는 오직 하나일 수 있도록 구조화하기

#### 1-2. 의존성역전원칙 ####
- Dependency Inversion Principle
- 영속성 계층에 변화가 생길시 도메인 계층도 변경해야하는 경우가 많다.
